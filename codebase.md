# .gitignore

```
# Created by https://www.toptal.com/developers/gitignore/api/node
# Edit at https://www.toptal.com/developers/gitignore?templates=node

### Node ###
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# Snowpack dependency directory (https://snowpack.dev/)
web_modules/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# vuepress v2.x temp and cache directory
.temp

# Docusaurus cache and generated files
.docusaurus

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v2
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz
.pnp.*

### Node Patch ###
# Serverless Webpack directories
.webpack/

# Optional stylelint cache

# SvelteKit build / generate output
.svelte-kit

# End of https://www.toptal.com/developers/gitignore/api/node

.DS_Store
```

# date_time_calc.ts

```ts
import { parseISO, getHours, getMinutes, isWithinInterval } from "date-fns";

function normalizeDateTime(checkDateTime: Date, dateTimeString: string): Date {
    const dateTime = parseISO(dateTimeString);
    // Adjust the date of dateTime to match checkDateTime
    const normalizedDateTime = new Date(
        checkDateTime.getFullYear(),
        checkDateTime.getMonth(),
        checkDateTime.getDate(),
        getHours(dateTime),
        getMinutes(dateTime)
    );
    return normalizedDateTime;
}

function findRoomAvailability(
    entries: TimetableEntry[],
    checkDateTime: Date
): boolean {
    // Normalize checkDateTime to disregard seconds and milliseconds
    checkDateTime = new Date(
        checkDateTime.getFullYear(),
        checkDateTime.getMonth(),
        checkDateTime.getDate(),
        checkDateTime.getHours(),
        checkDateTime.getMinutes()
    );

    let isAvailableNow = true;

    for (const entry of entries) {
        const entryStart = normalizeDateTime(
            checkDateTime,
            entry.startDateString
        );
        const entryEnd = normalizeDateTime(checkDateTime, entry.endDateString);

        // Check if checkDateTime is within any booked interval
        if (
            isWithinInterval(checkDateTime, {
                start: entryStart,
                end: entryEnd,
            })
        ) {
            isAvailableNow = false;
            break;
        }
    }

    if (isAvailableNow) {
        console.log("Room is available right now.");
        return true;
    } else {
        console.log("Room is not available right now.");
        return false;
    }
}

export { normalizeDateTime, findRoomAvailability };

```

# index.ts

```ts
import cors from "cors";
import express from "express";
import isRoomFreeRouter from "./routes/is-room-free";
import scrapeRoomRouter from "./routes/get-room-timetable";
import getAllRoomInfoRouter from "./routes/get-all-room-info";
import getAvailableRoomsInBuildingRouter from "./routes/get-available-rooms-in-building";

const app = express();
const port = 8072; // The port on which the server will run

app.use(cors());

// Middleware to parse JSON bodies
app.use(express.json());

// Endpoint to scrape a specific room's timetable
app.use(scrapeRoomRouter);

app.use(isRoomFreeRouter);

app.use(getAllRoomInfoRouter);

app.use(getAvailableRoomsInBuildingRouter);

app.listen(port, () => {
    console.log(`Server running at http://localhost:${port}`);
});

```

# out\rooms_grouped.csv

```csv
Building Code,Room Name,Room URL
53,53D,http://apps.uclan.ac.uk/MvCRoomTimetable/53/53D
AB,AB012,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB012
AB,AB025,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB025
AB,AB026,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB026
AB,AB104,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB104
AB,AB106,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB106
AB,AB114,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB114
AB,AB128,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB128
AB,AB212,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB212
AB,AB226,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB226
AB,AB235,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB235
AB,AB236,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/AB236
AB,ABFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/ABFOY
AB,ABLT1,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/ABLT1
AB,ABLT2,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/ABLT2
AB,ABLT3,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/ABLT3
AB,ABLT4,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/ABLT4
AB,ABLT5,http://apps.uclan.ac.uk/MvCRoomTimetable/AB/ABLT5
AL,AL001,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL001
AL,AL004,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL004
AL,AL010,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL010
AL,AL012,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL012
AL,AL013,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL013
AL,AL104,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL104
AL,AL108,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL108
AL,AL110,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL110
AL,AL201,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL201
AL,AL203,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL203
AL,AL205,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL205
AL,AL207,http://apps.uclan.ac.uk/MvCRoomTimetable/AL/AL207
BB,BB007,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB007
BB,BB008,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB008
BB,BB009,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB009
BB,BB013,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB013
BB,BB015,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB015
BB,BB016,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB016
BB,BB018,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB018
BB,BB019,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB019
BB,BB029,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB029
BB,BB032,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB032
BB,BB034,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB034
BB,BB105,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB105
BB,BB107,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB107
BB,BB111,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB111
BB,BB115,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB115
BB,BB137,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB137
BB,BB138,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB138
BB,BB139,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB139
BB,BB140,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB140
BB,BB142,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB142
BB,BB213,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB213
BB,BB240,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB240
BB,BB245,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB245
BB,BB245a,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB245a
BB,BB312,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB312
BB,BB353,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB353
BB,BB355,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB355
BB,BB355a,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB355a
BB,BB438,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB438
BB,BB447,http://apps.uclan.ac.uk/MvCRoomTimetable/BB/BB447
CM,CM006,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM006
CM,CM011,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM011
CM,CM016,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM016
CM,CM017,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM017
CM,CM018,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM018
CM,CM019,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM019
CM,CM025,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM025
CM,CM026,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM026
CM,CM033,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM033
CM,CM034,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM034
CM,CM101,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM101
CM,CM117,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM117
CM,CM119,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM119
CM,CM120,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM120
CM,CM125,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM125
CM,CM129,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM129
CM,CM130,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM130
CM,CM142,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM142
CM,CM143,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM143
CM,CM144,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM144
CM,CM148,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM148
CM,CM210,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM210
CM,CM234,http://apps.uclan.ac.uk/MvCRoomTimetable/CM/CM234
DB,DB017,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB017
DB,DB017b,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB017b
DB,DB018,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB018
DB,DB026,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB026
DB,DB028,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB028
DB,DB131,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB131
DB,DB234,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB234
DB,DB236,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB236
DB,DB237,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB237
DB,DB238,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB238
DB,DB239,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB239
DB,DB240,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB240
DB,DB241,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB241
DB,DB242,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB242
DB,DB243,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB243
DB,DB244,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB244
DB,DB245,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB245
DB,DB246,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB246
DB,DB247,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB247
DB,DB252,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB252
DB,DB254,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB254
DB,DB325,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DB325
DB,DBFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DBFOY
DB,DBLT,http://apps.uclan.ac.uk/MvCRoomTimetable/DB/DBLT
EB,EB004,http://apps.uclan.ac.uk/MvCRoomTimetable/EB/EB004
EB,EB004a,http://apps.uclan.ac.uk/MvCRoomTimetable/EB/EB004a
EB,EB008,http://apps.uclan.ac.uk/MvCRoomTimetable/EB/EB008
EIC,EIC001,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC001
EIC,EIC010,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC010
EIC,EIC012,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC012
EIC,EIC013,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC013
EIC,EIC111,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC111
EIC,EIC112,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC112
EIC,EIC113,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC113
EIC,EIC201,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC201
EIC,EIC211,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC211
EIC,EIC216,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC216
EIC,EIC217,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC217
EIC,EIC301,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC301
EIC,EIC313,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC313
EIC,EIC315,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC315
EIC,EIC317,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC317
EIC,EIC401,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC401
EIC,EIC402,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC402
EIC,EIC405,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EIC405
EIC,EICLG07,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EICLG07
EIC,EICLG14,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EICLG14
EIC,EICLG19,http://apps.uclan.ac.uk/MvCRoomTimetable/EIC/EICLG19
FB,FB068,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FB068
FB,FBB17,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBB17
FB,FBFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBFOY
FB,FBFOY1,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBFOY1
FB,FBLT1,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBLT1
FB,FBLT2,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBLT2
FB,FBLT3,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBLT3
FB,FBLT4,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBLT4
FB,FBLTFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBLTFOY
FB,FBM01,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBM01
FB,FBSS,http://apps.uclan.ac.uk/MvCRoomTimetable/FB/FBSS
GR,GR001,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR001
GR,GR069,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR069
GR,GR070,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR070
GR,GR071,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR071
GR,GR075,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR075
GR,GR076,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR076
GR,GR077,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR077
GR,GR078,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR078
GR,GR079,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR079
GR,GR080,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR080
GR,GR081,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR081
GR,GR102B,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR102B
GR,GR109,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR109
GR,GR111,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR111
GR,GR115,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR115
GR,GR117,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR117
GR,GR119a,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR119a
GR,GR123,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR123
GR,GR170,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR170
GR,GR171,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR171
GR,GR171A,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR171A
GR,GR174,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR174
GR,GR174a,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR174a
GR,GR174b,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR174b
GR,GR175,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR175
GR,GR177,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR177
GR,GR179,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR179
GR,GR181,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR181
GR,GR182,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR182
GR,GR202,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR202
GR,GR203,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR203
GR,GR204,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR204
GR,GR218,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR218
GR,GR268,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR268
GR,GR269,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR269
GR,GR270,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR270
GR,GR274,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR274
GR,GR275,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR275
GR,GR276,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR276
GR,GR277,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR277
GR,GR278,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR278
GR,GR279,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR279
GR,GR347,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR347
GR,GR348,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR348
GR,GR348a,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR348a
GR,GR349,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR349
GR,GR350,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR350
GR,GR354,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR354
GR,GR355,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR355
GR,GR356,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR356
GR,GR357,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR357
GR,GR358,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR358
GR,GR359,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR359
GR,GRFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GRFOY
GR,GRLT,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GRLT
GR,#SPLUS1BBA40,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/#SPLUS1BBA40
GR,GR109a,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR109a
GR,GR109b,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR109b
GR,GR119,http://apps.uclan.ac.uk/MvCRoomTimetable/GR/GR119
HR,HR002,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR002
HR,HR004,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR004
HR,HR010,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR010
HR,HR014,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR014
HR,HR017,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR017
HR,HR021,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR021
HR,HR022,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR022
HR,HR023,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR023
HR,HR103,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR103
HR,HR104,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR104
HR,HR105,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR105
HR,HR108,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR108
HR,HR205,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR205
HR,HR211,http://apps.uclan.ac.uk/MvCRoomTimetable/HR/HR211
HA,HA031,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA031
HA,HA104,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA104
HA,HA108,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA108
HA,HA113,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA113
HA,HA127,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA127
HA,HA129,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA129
HA,HA135,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA135
HA,HA138a,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA138a
HA,HA140a,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA140a
HA,HA142,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA142
HA,HA142a,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA142a
HA,HA201,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA201
HA,HA214,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA214
HA,HA223,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA223
HA,HA228,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA228
HA,HA245a,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA245a
HA,HA250,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA250
HA,HA254,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA254
HA,HA301,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA301
HA,HA308,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA308
HA,HA313,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA313
HA,HA320,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA320
HA,HA333,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA333
HA,HA337,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA337
HA,HA338,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA338
HA,HA338a,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA338a
HA,HA339,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA339
HA,HA342,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA342
HA,HA342b,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA342b
HA,HA344,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA344
HA,HA345,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HA345
HA,HAFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HAFOY
HA,HALT,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HALT
HA,HASS,http://apps.uclan.ac.uk/MvCRoomTimetable/HA/HASS
HB,#SPLUS970261,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/#SPLUS970261
HB,HB001,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB001
HB,HB014,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB014
HB,HB015A,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB015A
HB,HB015B,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB015B
HB,HB108,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB108
HB,HB109,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB109
HB,HB111,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB111
HB,HB116,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB116
HB,HB126,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB126
HB,HB127,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB127
HB,HB130,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB130
HB,HB132a,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB132a
HB,HB144A,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB144A
HB,HB144C,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB144C
HB,HB145,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB145
HB,HB150,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB150
HB,HB155,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB155
HB,HB158,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB158
HB,HB159,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB159
HB,HB201,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB201
HB,HB207,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB207
HB,HB208,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB208
HB,HB219,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB219
HB,HB227,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB227
HB,HB234,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB234
HB,HB235,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB235
HB,HB236,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB236
HB,HB239,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB239
HB,HB303,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB303
HB,HB304,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB304
HB,HB305,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB305
HB,HB307,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB307
HB,HB310,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB310
HB,HB311,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB311
HB,HB314,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB314
HB,HB315,http://apps.uclan.ac.uk/MvCRoomTimetable/HB/HB315
KM,KM006,http://apps.uclan.ac.uk/MvCRoomTimetable/KM/KM006
KM,KM011,http://apps.uclan.ac.uk/MvCRoomTimetable/KM/KM011
KM,KM013,http://apps.uclan.ac.uk/MvCRoomTimetable/KM/KM013
KM,KM111,http://apps.uclan.ac.uk/MvCRoomTimetable/KM/KM111
KM,KMSET,http://apps.uclan.ac.uk/MvCRoomTimetable/KM/KMSET
LE,LE002,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE002
LE,LE003,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE003
LE,LE109,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE109
LE,LE110,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE110
LE,LE111,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE111
LE,LE202,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE202
LE,LE203,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE203
LE,LE204,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE204
LE,LE206,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE206
LE,LE206A,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE206A
LE,LE207,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE207
LE,LE303,http://apps.uclan.ac.uk/MvCRoomTimetable/LE/LE303
LH,LH002,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH002
LH,LH003,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH003
LH,LH008,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH008
LH,LH009,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH009
LH,LH013,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH013
LH,LH014,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH014
LH,LH101,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH101
LH,LH102,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH102
LH,LH113,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH113
LH,LH123,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH123
LH,LH125,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH125
LH,LH126,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH126
LH,LH127,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH127
LH,LH201,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH201
LH,LH202,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH202
LH,LH223,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH223
LH,LH225,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH225
LH,LH226,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH226
LH,LH227,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH227
LH,LH301,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH301
LH,LH302,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH302
LH,LH323,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH323
LH,LH325,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH325
LH,LH326,http://apps.uclan.ac.uk/MvCRoomTimetable/LH/LH326
MB,MB041,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB041
MB,MB043,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB043
MB,MB049,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB049
MB,MB051,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB051
MB,MB053,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB053
MB,MB108,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB108
MB,MB113,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB113
MB,MB117,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB117
MB,MB120,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB120
MB,MB124,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB124
MB,MB143,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB143
MB,MB221,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB221
MB,MB226,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB226
MB,MB235,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB235
MB,MB244,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB244
MB,MB247,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB247
MB,MB248,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB248
MB,MB249,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB249
MB,MB302,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB302
MB,MB305,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB305
MB,MB308,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB308
MB,MB315,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB315
MB,MB317,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB317
MB,MB320,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB320
MB,MB336,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB336
MB,MB337,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB337
MB,MB341,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MB341
MB,MBFOY,http://apps.uclan.ac.uk/MvCRoomTimetable/MB/MBFOY
ME,ME007,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME007
ME,ME010,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME010
ME,ME011,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME011
ME,ME020,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME020
ME,ME035,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME035
ME,ME104,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME104
ME,ME111,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME111
ME,ME113,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME113
ME,ME113a,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME113a
ME,ME125,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME125
ME,ME203,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME203
ME,ME204,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME204
ME,ME207,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME207
ME,ME208,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME208
ME,ME209,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME209
ME,ME210,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME210
ME,ME211,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME211
ME,ME212,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME212
ME,ME213,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME213
ME,ME214,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME214
ME,ME215,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME215
ME,ME216,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME216
ME,ME218,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME218
ME,ME220,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME220
ME,ME223,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME223
ME,ME226,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME226
ME,ME234,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME234
ME,ME235,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME235
ME,ME236,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME236
ME,ME238,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME238
ME,ME239,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME239
ME,ME240,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME240
ME,ME241,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME241
ME,ME242,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME242
ME,ME243,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME243
ME,ME244,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME244
ME,ME246,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME246
ME,ME312,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME312
ME,ME313,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME313
ME,ME314,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME314
ME,ME315,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME315
ME,ME317,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME317
ME,ME320,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME320
ME,ME323,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME323
ME,ME325,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME325
ME,ME419,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME419
ME,ME420,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME420
ME,ME425,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME425
ME,ME428,http://apps.uclan.ac.uk/MvCRoomTimetable/ME/ME428
STF,STFFS,http://apps.uclan.ac.uk/MvCRoomTimetable/STF/STFFS
STF,STFSH1,http://apps.uclan.ac.uk/MvCRoomTimetable/STF/STFSH1
STF,STFSH2,http://apps.uclan.ac.uk/MvCRoomTimetable/STF/STFSH2
STF,STFSQ,http://apps.uclan.ac.uk/MvCRoomTimetable/STF/STFSQ
STF,STFSTB,http://apps.uclan.ac.uk/MvCRoomTimetable/STF/STFSTB
STF,STFSTR,http://apps.uclan.ac.uk/MvCRoomTimetable/STF/STFSTR
SU,SU,http://apps.uclan.ac.uk/MvCRoomTimetable/SU/SU
SU,53D,http://apps.uclan.ac.uk/MvCRoomTimetable/SU/53D
VE,VE011,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE011
VE,VE014,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE014
VE,VE015,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE015
VE,VE016,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE016
VE,VE017,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE017
VE,VE024,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE024
VE,VE026,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE026
VE,VE028,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE028
VE,VE057,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE057
VE,VE060a,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE060a
VE,VE060b,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE060b
VE,VE069,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE069
VE,VE080,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VE080
VE,VELT,http://apps.uclan.ac.uk/MvCRoomTimetable/VE/VELT
VB,VB001,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB001
VB,VB002,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB002
VB,VB002A,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB002A
VB,VB002B,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB002B
VB,VB002C,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB002C
VB,VB003A,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB003A
VB,VB003B,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB003B
VB,VB003C,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB003C
VB,VB005,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB005
VB,VB005b,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB005b
VB,VB013,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB013
VB,VB014,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB014
VB,VB015,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB015
VB,VB016,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB016
VB,VB019a,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB019a
VB,VB019b,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB019b
VB,VB019c,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB019c
VB,VB022,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB022
VB,VB026,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB026
VB,VB026a,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB026a
VB,VB035,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB035
VB,VB047,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB047
VB,VB048,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB048
VB,VB049,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB049
VB,VB051,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB051
VB,VB052,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB052
VB,VB055,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB055
VB,VB056,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB056
VB,VB056a,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB056a
VB,VB101,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB101
VB,VB103,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB103
VB,VB104,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB104
VB,VB105,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB105
VB,VB106,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB106
VB,VB107,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB107
VB,VB108,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB108
VB,VB109,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB109
VB,VB110,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB110
VB,VB111,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB111
VB,VB112,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB112
VB,VB113,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB113
VB,VB115,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB115
VB,VB119,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB119
VB,VB120,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB120
VB,VB120a,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB120a
VB,VB201,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB201
VB,VB204,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB204
VB,VB208,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB208
VB,VB209,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB209
VB,VB212,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB212
VB,VB213,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB213
VB,VB214,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB214
VB,VB214A,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB214A
VB,VB216,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB216
VB,VB220,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB220
VB,VB225,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB225
VB,VB225A,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB225A
VB,VB304,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB304
VB,VB307,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB307
VB,VB308,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB308
VB,VB320,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB320
VB,VB325,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB325
VB,VB326,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB326
VB,VB331,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB331
VB,VB332,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB332
VB,VB333,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB333
VB,VB334,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB334
VB,VB335,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB335
VB,VB338,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB338
VB,VB339,http://apps.uclan.ac.uk/MvCRoomTimetable/VB/VB339
WB,WB011,http://apps.uclan.ac.uk/MvCRoomTimetable/WB/WB011
WB,WB014,http://apps.uclan.ac.uk/MvCRoomTimetable/WB/WB014
WB,WB020,http://apps.uclan.ac.uk/MvCRoomTimetable/WB/WB020
WB,WB021,http://apps.uclan.ac.uk/MvCRoomTimetable/WB/WB021
33ES,14M001,http://apps.uclan.ac.uk/MvCRoomTimetable/33ES/14M001
33ES,33Es003,http://apps.uclan.ac.uk/MvCRoomTimetable/33ES/33Es003
33ES,33Es101,http://apps.uclan.ac.uk/MvCRoomTimetable/33ES/33Es101

```

# package.json

```json
{
  "name": "find_me_a_free_room",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "build": "tsc --outDir dist && copyfiles -u 1 ./static/**/* ./dist/static/",
    "dev": "npm run build && node ./dist/index.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "cors": "^2.8.5",
    "csv-parse": "^5.5.5",
    "csv-writer": "^1.6.0",
    "date-fns": "^3.3.1",
    "express": "^4.18.3",
    "fs": "0.0.1-security",
    "puppeteer": "^22.4.0"
  },
  "devDependencies": {
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/node": "^20.11.24",
    "copyfiles": "^2.4.1",
    "ts-node": "^10.9.2",
    "typescript": "^5.3.3"
  }
}
```

# routes\get-all-room-info.ts

```ts
import { Router } from "express";
import { readRoomsFromCSV, scrapeRoomTimeTable } from "../scraping";
import { findRoomAvailability } from "../date_time_calc";

const getAllRoomInfoRouter = Router();

getAllRoomInfoRouter.post("/get-all-room-info", async (req, res) => {
    const { roomName } = req.body as ScrapeRoomRequestBody;

    console.log(
        "REQUEST AT /get-all-room-info",
        req.body,
        roomName,
        new Date().toISOString()
    );

    if (!roomName) {
        return res
            .status(400)
            .send({ error: "Missing roomName in request body." });
    }

    let rooms: Room[] = [];

    // read rooms from csv
    await readRoomsFromCSV(rooms, "./out/rooms_grouped.csv");

    // find the room url from the rooms array
    const room = rooms.find((room) => room.name === roomName);

    if (!room) {
        return res.status(404).send({ error: "Room not found." });
    }

    // get the room url from the rooms array
    try {
        const scrapeResult = await scrapeRoomTimeTable(room?.url, room?.name);

        const dateBeingChecked = new Date();
        const out = findRoomAvailability(scrapeResult, dateBeingChecked);

        res.json({
            timetable: scrapeResult,
            roomName: room.name,
            dateBeingChecked: dateBeingChecked.toISOString(),
            isFree: out,
        });
    } catch (error) {
        console.error(error);
        res.status(500).send({ error: "Failed to scrape room timetable." });
    }
});

export default getAllRoomInfoRouter;

```

# routes\get-available-rooms-in-building.ts

```ts
import { Router } from "express";
import {
    readBuildingsFromCSV,
    readRoomsFromCSV,
    scrapeRoomTimeTable,
} from "../scraping";
import { findRoomAvailability } from "../date_time_calc";

const getAvailableRoomsInBuildingRouter = Router();

getAvailableRoomsInBuildingRouter.post(
    "/get-available-rooms-in-building",
    async (req, res) => {
        const { buildingCode, floorToFind } = req.body as {
            buildingCode: BuildingCode;
            floorToFind: number;
        };

        console.log(
            "REQUEST AT /get-available-rooms-in-building",
            req.body,
            buildingCode,
            new Date().toISOString()
        );

        if (!buildingCode) {
            return res
                .status(400)
                .send({ error: "Missing buildingCode in request body." });
        }

        if (floorToFind === undefined || floorToFind === null) {
            return res
                .status(400)
                .send({ error: "Missing floorToFind in request body." });
        }

        // read rooms from csv
        const buildings = await readBuildingsFromCSV(
            "./static/preston_buildings.csv"
        );

        // for the building code, get the rooms
        const building = buildings.find(
            (building) => building.code === buildingCode
        );

        if (!building) {
            return res.status(404).send({ error: "Building not found." });
        }

        // read rooms from csv
        let rooms: Room[] = [];
        await readRoomsFromCSV(rooms, "./out/rooms_grouped.csv");

        // filter the rooms
        rooms = rooms.filter((room) => room.buildingCode === buildingCode);

        // filter the rooms by floor
        // remove the building code from the room name
        rooms = rooms.filter((room) => {
            const replaced = room.name.replace(buildingCode, "");
            const roomFloor = parseInt(replaced[0]) ?? 0;
            return roomFloor === floorToFind;
        });

        // Define a type where the keys are room names (string) and values are TimetableEntry arrays
        type RoomWithTimetable = {
            room: Room;
            timetable: TimetableEntry[];
        };

        const combinedData: RoomWithTimetable[] = [];

        // scrape the timetable for each room
        for (let i = 0; i < rooms.length; i++) {
            const room = rooms[i];
            // Assuming scrapeRoomTimeTable is an async function that returns a TimetableEntry array
            const timetable: TimetableEntry[] = await scrapeRoomTimeTable(
                room.url,
                room.name
            );

            // check room is available
            const isRoomAvailable = findRoomAvailability(timetable, new Date());

            if (!isRoomAvailable) {
                continue;
            }

            combinedData.push({
                room: room, // the room object
                timetable: timetable, // the associated timetable object
            });
        }

        return res.status(200).send(combinedData);
    }
);

export default getAvailableRoomsInBuildingRouter;

```

# routes\get-room-timetable.ts

```ts
import { Router } from "express";
import { readRoomsFromCSV, scrapeRoomTimeTable } from "../scraping";

const scrapeRoomRouter = Router();

scrapeRoomRouter.post("/get-room-timetable", async (req, res) => {
    const { roomName } = req.body as ScrapeRoomRequestBody;

    console.log(
        "REQUEST AT /get-room-timetable",
        req.body,
        roomName,
        new Date().toISOString()
    );

    if (!roomName) {
        return res
            .status(400)
            .send({ error: "Missing roomName in request body." });
    }

    let rooms: Room[] = [];

    // read rooms from csv
    await readRoomsFromCSV(rooms, "./out/rooms_grouped.csv");

    // find the room url from the rooms array
    const room = rooms.find((room) => room.name === roomName);

    if (!room) {
        return res.status(404).send({ error: "Room not found." });
    }

    // get the room url from the rooms array
    try {
        const scrapeResult = await scrapeRoomTimeTable(room?.url, room?.name);
        res.json(scrapeResult);
    } catch (error) {
        console.error(error);
        res.status(500).send({ error: "Failed to scrape room timetable." });
    }
});

export default scrapeRoomRouter;

```

# routes\is-room-free.ts

```ts
import { Router } from "express";
import { findRoomAvailability } from "../date_time_calc";
import { readRoomsFromCSV, scrapeRoomTimeTable } from "../scraping";

const isRoomFreeRouter = Router();

isRoomFreeRouter.post("/is-room-free", async (req, res) => {
    const { roomName } = req.body as ScrapeRoomRequestBody;

    console.log(
        "REQUEST AT /is-room-free",
        req.body,
        roomName,
        new Date().toISOString()
    );

    if (!roomName) {
        return res
            .status(400)
            .send({ error: "Missing roomName in request body." });
    }

    let rooms: Room[] = [];

    // read rooms from csv
    await readRoomsFromCSV(rooms, "./out/rooms_grouped.csv");

    // find the room url from the rooms array
    const room = rooms.find((room) => room.name === roomName);

    if (!room) {
        return res.status(404).send({ error: "Room not found." });
    }

    // get the room url from the rooms array
    try {
        const scrapeResult = await scrapeRoomTimeTable(room?.url, room?.name);
        const dateBeingChecked = new Date();
        const out = findRoomAvailability(scrapeResult, dateBeingChecked);

        res.json({
            roomName: room.name,
            isFree: out,
            dateBeingChecked: dateBeingChecked.toISOString(),
        });
    } catch (error) {
        console.error(error);
        res.status(500).send({ error: "Failed to scrape room timetable." });
    }
});

export default isRoomFreeRouter;

```

# scraping.ts

```ts
import { parse as parseCSV } from "csv-parse";
import { createObjectCsvWriter } from "csv-writer";
import { format, parse } from "date-fns";
import { createReadStream } from "fs";
import puppeteer from "puppeteer";
import {
    DayAbbreviation,
    getDayFullNameFromAbbreviation,
    getNextOccurrenceOfDay,
} from "./utils";

const VALID_EVENT_CLASSNAMES = ["scan_open", "TimeTableEvent"];
const DAY_NAME_COLUMN_CLASSNAMES = [
    "TimeTableRowHeader",
    "TimeTableCurrentRowHeader",
];

const readBuildingsFromCSV = async (filePath: string): Promise<Building[]> => {
    let buildings: Building[] = [];

    return new Promise((resolve, reject) => {
        createReadStream(filePath)
            .pipe(parseCSV({ delimiter: ",", from_line: 2 })) // Assuming the first row is headers
            .on("data", (row) => {
                buildings.push({
                    name: row[0].trim(),
                    latitude: parseFloat(row[1].trim()),
                    longitude: parseFloat(row[2].trim()),
                    address: row[3].trim(),
                    code: row[4].trim().toUpperCase(),
                });
            })
            .on("end", () => {
                resolve(buildings);
            })
            .on("error", (error) => {
                reject(error);
            });
    });
};

const readRoomsFromCSV = async (
    outArr: Room[],
    filePath: string
): Promise<Building[]> => {
    const rooms: Building[] = [];

    return new Promise((resolve, reject) => {
        createReadStream(filePath)
            .pipe(parseCSV({ delimiter: "," }))
            .on("data", (row) => {
                outArr.push({
                    buildingCode: row[0].trim(),
                    name: row[1].trim(),
                    url: row[2].trim(),
                });
            })
            .on("end", () => {
                resolve(rooms);
            })
            .on("error", (error) => {
                reject(error);
            });
    });
};

const getRoomLinks = async () => {
    const roomsByBuilding: { [key: string]: Room[] } = {};

    const browser = await puppeteer.launch();
    const page = await browser.newPage();
    await page.goto("https://apps.uclan.ac.uk/MvCRoomTimetable/", {
        waitUntil: "domcontentloaded",
    });

    const buildings = await readBuildingsFromCSV(
        "./static/preston_buildings.csv"
    );

    for (const building of buildings) {
        if (building.code === "LIB") continue;

        const buildingUrl = `https://apps.uclan.ac.uk/MvCRoomTimetable/${building.code}`;
        await page.goto(buildingUrl, { waitUntil: "load" });

        console.log(`Scraping rooms for ${building.name}... (${buildingUrl})`);

        // Using Page.$$() to find all 'a' elements representing rooms
        const roomElementHandles = await page.$$("a");

        const rooms = await Promise.all(
            roomElementHandles.map(async (handle) => {
                const name = await (
                    await handle.getProperty("textContent")
                ).jsonValue();
                const url = await (
                    await handle.getProperty("href")
                ).jsonValue();
                return { name, url };
            })
        );

        // Initialize the array for this building code if it doesn't exist
        if (!roomsByBuilding[building.code]) {
            roomsByBuilding[building.code] = [];
        }

        // Iterate through the rooms and add them if they don't already exist
        for (const room of rooms) {
            // Create a unique identifier for the room
            const uniqueRoomId = `${building.code}-${room.name}`;

            // Check if this room is already in the list for the building
            if (
                !roomsByBuilding[building.code].some(
                    (r) => `${r.buildingCode}-${r.name}` === uniqueRoomId
                )
            ) {
                roomsByBuilding[building.code].push({
                    buildingCode: building.code,
                    name: room.name ?? "",
                    url: `http://apps.uclan.ac.uk/MvCRoomTimetable/${building.code}/${room.name}`,
                });
            }
        }
    }

    await browser.close();

    return roomsByBuilding;
};

async function scrapeRoomTimeTable(
    roomUrl: string,
    roomName: string
): Promise<TimetableEntry[]> {
    const browser = await puppeteer.launch({ headless: true });
    const page = await browser.newPage();
    let output: any = [];

    await page.goto(roomUrl);

    const rows = await page.$$eval(".TimeTableTable tr", (trs) =>
        trs.map((tr) => {
            return Array.from(tr.querySelectorAll("td"), (td) => {
                // First, replace <br> tags with \n
                const innerHtmlWithNewLines = td.innerHTML.replace(
                    /<br\s*\/?>/gi,
                    "\n"
                );
                // Then, create a temporary div element and set its innerHTML to the modified HTML
                const tempDiv = document.createElement("div");
                tempDiv.innerHTML = innerHtmlWithNewLines;
                // Finally, extract the textContent, which will not contain any HTML tags
                const text = tempDiv.textContent || tempDiv.innerText || "";
                return {
                    text: text,
                    className: td.className,
                };
            });
        })
    );

    rows.forEach((row, rowIdx) => {
        const dayNameColumn = row[0].text.replace(/\n/g, "");
        const dayFullName = getDayFullNameFromAbbreviation(
            dayNameColumn as DayAbbreviation
        );
        const dayDate = getNextOccurrenceOfDay(dayFullName);

        row.forEach((column, colIdx) => {
            if (VALID_EVENT_CLASSNAMES.includes(column.className)) {
                const columnText = column.text;
                if (columnText) {
                    // Now, 'text' has \n for <br> and no HTML tags
                    const splitText = columnText.split("\n");

                    const time = splitText[0];
                    const module = splitText[1];
                    const lecturer = splitText[2];
                    const group = splitText[3];

                    const topIdx = rowIdx + 1;
                    const slotInDay = colIdx + 1;

                    // Assuming 'time' is in 'HH:mm - HH:mm'
                    const [startTime, endTime] = splitText[0].split(" - ");
                    // Combine dayDate with startTime for full start dateTime
                    const startDateString = format(
                        parse(startTime, "HH:mm", dayDate),
                        "yyyy-MM-dd'T'HH:mm:ss"
                    );

                    // Optionally, combine dayDate with endTime for full end dateTime
                    const endDateString = format(
                        parse(endTime, "HH:mm", dayDate),
                        "yyyy-MM-dd'T'HH:mm:ss"
                    );

                    output.push({
                        topIdx,
                        slotInDay,
                        time,
                        module,
                        lecturer,
                        group,
                        roomName,
                        day: dayFullName,
                        startDateString,
                        endDateString,
                    });
                }
            }
        });
    });

    await browser.close();
    return output;
}

const writeRoomsToCSV = async (filePath: string) => {
    // read rooms from csv
    const roomsByBuilding = await getRoomLinks();

    const csvWriter = createObjectCsvWriter({
        path: filePath,
        header: [
            { id: "buildingCode", title: "Building Code" },
            { id: "name", title: "Room Name" },
            { id: "url", title: "Room URL" },
        ],
    });

    const records: any[] = [];
    Object.values(roomsByBuilding).forEach((rooms) => {
        rooms.forEach((room) => {
            records.push(room);
        });
    });

    await csvWriter.writeRecords(records);
};

export {
    getRoomLinks,
    readBuildingsFromCSV,
    readRoomsFromCSV,
    scrapeRoomTimeTable,
    writeRoomsToCSV,
};

```

# static\preston_buildings.csv

```csv
Building Name, Latitude, Longitude, Address, Building Code
Adelphi Building,53.76436073492904,-2.708080724842432,"Adelphi Building, Preston PR1 7BQ", AB
Allen Building,53.76512411507585,-2.707251009603746,"Allen Building, Adelphi St, Preston PR1", AL
Brook Building,53.76607049066911,-2.707819435927879,"Brooke Building, Victoria St, Preston PR1 7QS", BB
Chandler Building,53.7610542889333,-2.7068000894716397,"5 A5071, Preston PR1 2UQ", CB
Computing & Technology Building,53.76360751869153,-2.7090618794201964,"Computing and Technology Building, 45 Fylde Rd, Preston", CM
Darwin Building,53.760642390635866,-2.708574917983834,"Darwin Building, Marsh Ln, Preston PR1 2XE", DB
Eden Building,53.766149840612435,-2.7073122298619414,"Eden Hall, Preston PR1 7QS", ER
Edward Building,53.761066865451355,-2.70773158463467,"Edward Building, Edward St, Preston PR1 2HE", EB
Engineering Innovation Centre,53.76254981248048,-2.7080567280266266,"Parking lot, Unnamed Road, Preston PR1 2XS", EIC
Foster Building,53.76172442160782,-2.708217955571805,"u clean, Corporation St, Preston PR1 2HE", FB
Foster Square,53.76210057560981,-2.7082166528945235,"Parking lot, Unnamed Road, Preston PR1 2XS", FS
Greenbank Building,53.76548076046974,-2.706784364209533,"Preston PR1 1LJ", GR
Hanover Building,53.76389413308366,-2.71077190303943,"Hanover Building, Preston", HR
Harrington Building,53.76537295469777,-2.7074578609050306,"Security Control Room, Preston PR1 7QR", HA
Harris Building,53.76137102107412,-2.7069238158660878,"Preston PR1 2UQ", HB
Kirkham Building,53.76371755865759,-2.7103793419076614,"Kirkham Building, Preston PR1 2YL", KM
Leighton Building,53.76130424379454,-2.70946207359028,"Corporation St, Preston PR1 2HA", LE
Livesey House,53.76050166571451,-2.7048483879443865,"Livesey House, 6 Heatley St, Preston PR1 2XB", LH
Maudland Building,53.76124229654532,-2.709252054280356,"u clean, Corporation St, Preston PR1 2HE", MB
Media Factory,53.76341794109121,-2.7101046307304038,"Media factory, Preston PR1 2HE", ME
Sir Tom Finney Sports Centre,53.760493848758045,-2.709268424341801,"University of Central Lancashire, Preston PR1 2HE", STF
Student Centre,53.76282812209615,-2.7073813645247915,"43 Adelphi St, Fylde Rd, Preston PR1 7DP", STU
Students Union,53.76383439785259,-2.7088025543804575,"Student's Union/53 Degrees, Preston", SU
Vernon Building,53.76772378815439,-2.705666319184817,"Vernon Buildings and Grenfell Baines Auditorium, Castle St, Preston PR1 1JQ", VE
Victoria Building,53.764945918362216,-2.7084755882444584,"Victoria Building, 74 Lawson St, Preston PR1 2XQ", VB
Wharf Building,53.76105376735943,-2.7081505662100134,"Wharf Building, Preston PR1 1TQ", WB
33 Edward Street,53.76158203145751,-2.7059855606233136,"57 Edward St, Bamber Bridge, Preston PR5 6FB", 33ES
53 Degrees,53.76444140498335,-2.7092804003694293,"Student's Union/53 Degrees, Preston", 53
Derwent Hall,53.765894569916554,-2.7090867426808485,"Derwent Hall, 54 Ashmoor St, Preston PR1 7QR", DW
Douglas Hall,53.76574046566518,-2.708730749211238,"Douglas Hall, Preston PR1 7QR", DR
Ribble Hall,53.76640979000219,-2.707051995698255,"Ribble Hall, 53 Ashmoor St, Preston PR1 7QS", RI
Roeburn Hall,53.76229254311304,-2.7120502348584457,"Roeburn Hall, Preston PR2 2QQ", RR
Whitendale Hall,53.76490532842051,-2.7060686068867734,"Whitendale Hall, Preston PR1 7BG", WR
```

# todo.md

```md
-   [ ] period in day not correct because of empty sessions taking 4 spaces
-   [ ] clashing classes get skipped? CM234

```

# tsconfig.json

```json
{
  "compilerOptions": {
    /* Visit https://aka.ms/tsconfig to read more about this file */

    /* Projects */
    // "incremental": true,                              /* Save .tsbuildinfo files to allow for incremental compilation of projects. */
    // "composite": true,                                /* Enable constraints that allow a TypeScript project to be used with project references. */
    // "tsBuildInfoFile": "./.tsbuildinfo",              /* Specify the path to .tsbuildinfo incremental compilation file. */
    // "disableSourceOfProjectReferenceRedirect": true,  /* Disable preferring source files instead of declaration files when referencing composite projects. */
    // "disableSolutionSearching": true,                 /* Opt a project out of multi-project reference checking when editing. */
    // "disableReferencedProjectLoad": true,             /* Reduce the number of projects loaded automatically by TypeScript. */

    /* Language and Environment */
    "target": "es2016",                                  /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */
    // "lib": [],                                        /* Specify a set of bundled library declaration files that describe the target runtime environment. */
    // "jsx": "preserve",                                /* Specify what JSX code is generated. */
    // "experimentalDecorators": true,                   /* Enable experimental support for legacy experimental decorators. */
    // "emitDecoratorMetadata": true,                    /* Emit design-type metadata for decorated declarations in source files. */
    // "jsxFactory": "",                                 /* Specify the JSX factory function used when targeting React JSX emit, e.g. 'React.createElement' or 'h'. */
    // "jsxFragmentFactory": "",                         /* Specify the JSX Fragment reference used for fragments when targeting React JSX emit e.g. 'React.Fragment' or 'Fragment'. */
    // "jsxImportSource": "",                            /* Specify module specifier used to import the JSX factory functions when using 'jsx: react-jsx*'. */
    // "reactNamespace": "",                             /* Specify the object invoked for 'createElement'. This only applies when targeting 'react' JSX emit. */
    // "noLib": true,                                    /* Disable including any library files, including the default lib.d.ts. */
    // "useDefineForClassFields": true,                  /* Emit ECMAScript-standard-compliant class fields. */
    // "moduleDetection": "auto",                        /* Control what method is used to detect module-format JS files. */

    /* Modules */
    "module": "commonjs",                                /* Specify what module code is generated. */
    // "rootDir": "./",                                  /* Specify the root folder within your source files. */
    // "moduleResolution": "node10",                     /* Specify how TypeScript looks up a file from a given module specifier. */
    // "baseUrl": "./",                                  /* Specify the base directory to resolve non-relative module names. */
    // "paths": {},                                      /* Specify a set of entries that re-map imports to additional lookup locations. */
    // "rootDirs": [],                                   /* Allow multiple folders to be treated as one when resolving modules. */
    // "typeRoots": [],                                  /* Specify multiple folders that act like './node_modules/@types'. */
    // "types": [],                                      /* Specify type package names to be included without being referenced in a source file. */
    // "allowUmdGlobalAccess": true,                     /* Allow accessing UMD globals from modules. */
    // "moduleSuffixes": [],                             /* List of file name suffixes to search when resolving a module. */
    // "allowImportingTsExtensions": true,               /* Allow imports to include TypeScript file extensions. Requires '--moduleResolution bundler' and either '--noEmit' or '--emitDeclarationOnly' to be set. */
    // "resolvePackageJsonExports": true,                /* Use the package.json 'exports' field when resolving package imports. */
    // "resolvePackageJsonImports": true,                /* Use the package.json 'imports' field when resolving imports. */
    // "customConditions": [],                           /* Conditions to set in addition to the resolver-specific defaults when resolving imports. */
    // "resolveJsonModule": true,                        /* Enable importing .json files. */
    // "allowArbitraryExtensions": true,                 /* Enable importing files with any extension, provided a declaration file is present. */
    // "noResolve": true,                                /* Disallow 'import's, 'require's or '<reference>'s from expanding the number of files TypeScript should add to a project. */

    /* JavaScript Support */
    // "allowJs": true,                                  /* Allow JavaScript files to be a part of your program. Use the 'checkJS' option to get errors from these files. */
    // "checkJs": true,                                  /* Enable error reporting in type-checked JavaScript files. */
    // "maxNodeModuleJsDepth": 1,                        /* Specify the maximum folder depth used for checking JavaScript files from 'node_modules'. Only applicable with 'allowJs'. */

    /* Emit */
    // "declaration": true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */
    // "declarationMap": true,                           /* Create sourcemaps for d.ts files. */
    // "emitDeclarationOnly": true,                      /* Only output d.ts files and not JavaScript files. */
    // "sourceMap": true,                                /* Create source map files for emitted JavaScript files. */
    // "inlineSourceMap": true,                          /* Include sourcemap files inside the emitted JavaScript. */
    // "outFile": "./",                                  /* Specify a file that bundles all outputs into one JavaScript file. If 'declaration' is true, also designates a file that bundles all .d.ts output. */
    // "outDir": "./",                                   /* Specify an output folder for all emitted files. */
    // "removeComments": true,                           /* Disable emitting comments. */
    // "noEmit": true,                                   /* Disable emitting files from a compilation. */
    // "importHelpers": true,                            /* Allow importing helper functions from tslib once per project, instead of including them per-file. */
    // "importsNotUsedAsValues": "remove",               /* Specify emit/checking behavior for imports that are only used for types. */
    // "downlevelIteration": true,                       /* Emit more compliant, but verbose and less performant JavaScript for iteration. */
    // "sourceRoot": "",                                 /* Specify the root path for debuggers to find the reference source code. */
    // "mapRoot": "",                                    /* Specify the location where debugger should locate map files instead of generated locations. */
    // "inlineSources": true,                            /* Include source code in the sourcemaps inside the emitted JavaScript. */
    // "emitBOM": true,                                  /* Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files. */
    // "newLine": "crlf",                                /* Set the newline character for emitting files. */
    // "stripInternal": true,                            /* Disable emitting declarations that have '@internal' in their JSDoc comments. */
    // "noEmitHelpers": true,                            /* Disable generating custom helper functions like '__extends' in compiled output. */
    // "noEmitOnError": true,                            /* Disable emitting files if any type checking errors are reported. */
    // "preserveConstEnums": true,                       /* Disable erasing 'const enum' declarations in generated code. */
    // "declarationDir": "./",                           /* Specify the output directory for generated declaration files. */
    // "preserveValueImports": true,                     /* Preserve unused imported values in the JavaScript output that would otherwise be removed. */

    /* Interop Constraints */
    // "isolatedModules": true,                          /* Ensure that each file can be safely transpiled without relying on other imports. */
    // "verbatimModuleSyntax": true,                     /* Do not transform or elide any imports or exports not marked as type-only, ensuring they are written in the output file's format based on the 'module' setting. */
    // "allowSyntheticDefaultImports": true,             /* Allow 'import x from y' when a module doesn't have a default export. */
    "esModuleInterop": true,                             /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables 'allowSyntheticDefaultImports' for type compatibility. */
    // "preserveSymlinks": true,                         /* Disable resolving symlinks to their realpath. This correlates to the same flag in node. */
    "forceConsistentCasingInFileNames": true,            /* Ensure that casing is correct in imports. */

    /* Type Checking */
    "strict": true,                                      /* Enable all strict type-checking options. */
    // "noImplicitAny": true,                            /* Enable error reporting for expressions and declarations with an implied 'any' type. */
    // "strictNullChecks": true,                         /* When type checking, take into account 'null' and 'undefined'. */
    // "strictFunctionTypes": true,                      /* When assigning functions, check to ensure parameters and the return values are subtype-compatible. */
    // "strictBindCallApply": true,                      /* Check that the arguments for 'bind', 'call', and 'apply' methods match the original function. */
    // "strictPropertyInitialization": true,             /* Check for class properties that are declared but not set in the constructor. */
    // "noImplicitThis": true,                           /* Enable error reporting when 'this' is given the type 'any'. */
    // "useUnknownInCatchVariables": true,               /* Default catch clause variables as 'unknown' instead of 'any'. */
    // "alwaysStrict": true,                             /* Ensure 'use strict' is always emitted. */
    // "noUnusedLocals": true,                           /* Enable error reporting when local variables aren't read. */
    // "noUnusedParameters": true,                       /* Raise an error when a function parameter isn't read. */
    // "exactOptionalPropertyTypes": true,               /* Interpret optional property types as written, rather than adding 'undefined'. */
    // "noImplicitReturns": true,                        /* Enable error reporting for codepaths that do not explicitly return in a function. */
    // "noFallthroughCasesInSwitch": true,               /* Enable error reporting for fallthrough cases in switch statements. */
    // "noUncheckedIndexedAccess": true,                 /* Add 'undefined' to a type when accessed using an index. */
    // "noImplicitOverride": true,                       /* Ensure overriding members in derived classes are marked with an override modifier. */
    // "noPropertyAccessFromIndexSignature": true,       /* Enforces using indexed accessors for keys declared using an indexed type. */
    // "allowUnusedLabels": true,                        /* Disable error reporting for unused labels. */
    // "allowUnreachableCode": true,                     /* Disable error reporting for unreachable code. */

    /* Completeness */
    // "skipDefaultLibCheck": true,                      /* Skip type checking .d.ts files that are included with TypeScript. */
    "skipLibCheck": true                                 /* Skip type checking all .d.ts files. */
  }
}

```

# types.ts

```ts
type BuildingCode =
    | "AB"
    | "AL"
    | "BB"
    | "CB"
    | "CM"
    | "DB"
    | "ER"
    | "EB"
    | "EIC"
    | "FB"
    | "GR"
    | "HR"
    | "HA"
    | "HB"
    | "KM"
    | "LE"
    | "LH"
    | "MB"
    | "ME"
    | "SU"
    | "VE"
    | "VB"
    | "WB"
    | "33ES"
    | "LIB"
    | "53";

interface Building {
    name: string;
    latitude: number;
    longitude: number;
    address: string;
    code: BuildingCode;
}

interface TimetableEntry {
    topIdx: number;
    slotInDay: number;
    time: string;
    module: string;
    lecturer: string;
    group: string;
    roomName: string;
    day: string;
    startDateString: string;
    endDateString: string;
}

interface ScrapeRoomRequestBody {
    roomName: string;
}

interface Room {
    buildingCode: BuildingCode;
    name: string;
    url: string;
}

```

# utils.ts

```ts
import { startOfWeek, add, eachDayOfInterval, format } from "date-fns";

export type DayAbbreviation =
    | "Mon"
    | "Tue"
    | "Wed"
    | "Thu"
    | "Fri"
    | "Sat"
    | "Sun";

export const getDayFullNameFromAbbreviation = (abbrev: DayAbbreviation) => {
    const dayAbbreviationsToFull = {
        Mon: "Monday",
        Tue: "Tuesday",
        Wed: "Wednesday",
        Thu: "Thursday",
        Fri: "Friday",
        Sat: "Saturday",
        Sun: "Sunday",
    };

    return dayAbbreviationsToFull[abbrev];
};

export function getNextOccurrenceOfDay(dayName: string): Date {
    const today = new Date();
    const start = startOfWeek(today, { weekStartsOn: 1 }); // Adjust weekStartsOn based on your locale if needed
    const end = add(start, { days: 6 });
    const days = eachDayOfInterval({ start, end });
    const nextDay = days.find((d) => format(d, "EEEE") === dayName);
    return nextDay || today; // Fallback to today if not found, adjust as needed
}

```

